# =========================================================================
#     This makefile was generated by
#     Bakefile 0.2.0 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================


@MAKE_SET@

prefix = @prefix@
exec_prefix = @exec_prefix@
INSTALL = @INSTALL@
SHARED_LD_CXX = @SHARED_LD_CXX@
LIBPREFIX = @LIBPREFIX@
SO_SUFFIX = @SO_SUFFIX@
DLLIMP_SUFFIX = @DLLIMP_SUFFIX@
PIC_FLAG = @PIC_FLAG@
STRIP = @STRIP@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_DIR = @INSTALL_DIR@
srcdir = @srcdir@
top_builddir = @top_builddir@
libdir = @libdir@
DLLPREFIX = @DLLPREFIX@
CXX = @CXX@
CXXFLAGS = @CXXFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS = @LDFLAGS@

### Variables: ###

DESTDIR = 
MYSQLPP_CXXFLAGS = -I.. $(PIC_FLAG) @PTHREAD_CFLAGS@ $(CPPFLAGS) $(CXXFLAGS)
MYSQLPP_OBJECTS =  \
	mysqlpp_coldata.o \
	mysqlpp_connection.o \
	mysqlpp_datetime.o \
	mysqlpp_field_names.o \
	mysqlpp_fields.o \
	mysqlpp_field_types.o \
	mysqlpp_manip.o \
	mysqlpp_myset.o \
	mysqlpp_qparms.o \
	mysqlpp_query.o \
	mysqlpp_result.o \
	mysqlpp_row.o \
	mysqlpp_sql_string.o \
	mysqlpp_string_util.o \
	mysqlpp_transaction.o \
	mysqlpp_type_info.o \
	mysqlpp_vallist.o

### Conditionally set variables: ###

@COND_DEPS_TRACKING_0@CXXC = $(CXX)
@COND_DEPS_TRACKING_1@CXXC = $(top_builddir)./bk-deps $(CXX)
@COND_PLATFORM_OS2_1@__mysqlpp___importlib = -import \
@COND_PLATFORM_OS2_1@	$(LIBPREFIX)mysqlpp.$(DLLIMP_SUFFIX)
@COND_WINDOWS_IMPLIB_1@__mysqlpp___importlib = \
@COND_WINDOWS_IMPLIB_1@	-Wl,--out-implib,$(LIBPREFIX)mysqlpp.$(DLLIMP_SUFFIX)
@COND_PLATFORM_MACOSX_1@__mysqlpp___macinstnamecmd \
@COND_PLATFORM_MACOSX_1@	= -install_name \
@COND_PLATFORM_MACOSX_1@	$(libdir)/$(DLLPREFIX)mysqlpp.$(SO_SUFFIX)

### Targets: ###

all: $(DLLPREFIX)mysqlpp.$(SO_SUFFIX)

install: all install_mysqlpp
	$(INSTALL_DIR) $(DESTDIR)$(prefix)/include/mysql++
	(cd $(srcdir) ; $(INSTALL_DATA)  *.h $(DESTDIR)$(prefix)/include/mysql++)

uninstall: 
	rm -f $(DESTDIR)$(libdir)/$(DLLPREFIX)mysqlpp.$(SO_SUFFIX)
	for f in *.h ; do rm -f $(prefix)/include/mysql++/$$f ; done
	rmdir $(prefix)/include/mysql++

install-strip: install
	$(STRIP) $(DESTDIR)$(libdir)/$(DLLPREFIX)mysqlpp.$(SO_SUFFIX)

clean: 
	rm -rf ./.deps ./.pch
	rm -f ./*.o
	rm -f $(DLLPREFIX)mysqlpp.$(SO_SUFFIX)
	rm -f $(LIBPREFIX)mysqlpp.$(DLLIMP_SUFFIX)

distclean: clean
	rm -f config.cache config.log config.status bk-deps bk-make-pch shared-ld-sh Makefile

$(DLLPREFIX)mysqlpp.$(SO_SUFFIX): $(MYSQLPP_OBJECTS) custom.h
	$(SHARED_LD_CXX) $@ $(MYSQLPP_OBJECTS) $(LDFLAGS) $(__mysqlpp___importlib)   $(__mysqlpp___macinstnamecmd) @PTHREAD_LIBS@ @MYSQLPP_EXTRA_LIBS@  -l@MYSQL_C_LIB@ -lz

install_mysqlpp: 
	$(INSTALL_DIR) $(DESTDIR)$(libdir)
	$(INSTALL_DATA) $(LIBPREFIX)mysqlpp.$(DLLIMP_SUFFIX) $(DESTDIR)$(libdir)
	$(INSTALL_PROGRAM) $(DLLPREFIX)mysqlpp.$(SO_SUFFIX) $(DESTDIR)$(libdir)
	(cd $(DESTDIR)$(libdir) ; )

custom.h: custom.pl
	./custom.pl

querydef.h: querydef.pl
	./querydef.pl

tags: 
	( cd .. ; make tags )

ctags: tags

refman: 
	doxygen
	cd ../doc/refman/latex && make pdf && mv refman.pdf ../../mysqlpp-refman.pdf

mysqlpp_coldata.o: $(srcdir)/coldata.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/coldata.cpp

mysqlpp_connection.o: $(srcdir)/connection.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/connection.cpp

mysqlpp_datetime.o: $(srcdir)/datetime.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/datetime.cpp

mysqlpp_field_names.o: $(srcdir)/field_names.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/field_names.cpp

mysqlpp_fields.o: $(srcdir)/fields.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/fields.cpp

mysqlpp_field_types.o: $(srcdir)/field_types.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/field_types.cpp

mysqlpp_manip.o: $(srcdir)/manip.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/manip.cpp

mysqlpp_myset.o: $(srcdir)/myset.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/myset.cpp

mysqlpp_qparms.o: $(srcdir)/qparms.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/qparms.cpp

mysqlpp_query.o: $(srcdir)/query.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/query.cpp

mysqlpp_result.o: $(srcdir)/result.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/result.cpp

mysqlpp_row.o: $(srcdir)/row.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/row.cpp

mysqlpp_sql_string.o: $(srcdir)/sql_string.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/sql_string.cpp

mysqlpp_string_util.o: $(srcdir)/string_util.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/string_util.cpp

mysqlpp_transaction.o: $(srcdir)/transaction.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/transaction.cpp

mysqlpp_type_info.o: $(srcdir)/type_info.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/type_info.cpp

mysqlpp_vallist.o: $(srcdir)/vallist.cpp
	$(CXXC) -c -o $@ $(MYSQLPP_CXXFLAGS) $(srcdir)/vallist.cpp


# Include dependency info, if present:
@IF_GNU_MAKE@-include .deps/*.d

.PHONY: all install uninstall clean distclean install_mysqlpp tags
